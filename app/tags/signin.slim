---
---
signin

  logo-animation.presentation-phase
  .login.presentation-phase
    .logo
      img src='images/start_logo.png'

    loading

    form-tag error='{error}' ref='form' submit='{signin}'

      text-field label='Email ou celular' ref='login'
      text-field label='Senha' type='password' ref='password'

      br
      button-tag.center label='Entrar' onclick='{parent.signin}'
      br
      line-sep text='ou'
      br
      button-tag.center label='Criar nova conta' onclick='{parent.signup}'

  javascript:

    signin() {
      api.signin(this.refs.form.values()).then(function (user) {
        if (user.error) {
          this.error = 'Email, celular ou senha incorretos'
          return this.update()
        }

        app.login(user)
      }.bind(this))
    }

    signup() {
      app.pageManager.navigate('signup')
    }

    this.on('mount', function() {
    })

  scss:
    signin {
      display: block;
    }

    .presentation-phase {
      display: none;
    }
    logo-animation.presentation-phase {
      display: block;
    }

    .logo {
      padding: 40px 10px;
      background: #f1f1c2;
    }
    .logo img {
      width: 100%;
    }

