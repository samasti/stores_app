<signin><loading></loading><form-tag error="{error}" ref="form"><text-field label="Email ou celular" ref="login"></text-field><text-field label="Senha" ref="password" type="password"></text-field><br /><button-tag class="center" label="Entrar" onclick="{parent.signin}"></button-tag><br /><line-sep text="ou"></line-sep><br /><button-tag class="center" label="Criar nova conta" onclick="{parent.signup}"></button-tag></form-tag>
  <script>
    signin() {
      api.signin(this.refs.form.values()).then(function (user) {
        if (user.error) {
          this.error = 'Email, celular ou senha incorretos'
          return this.update()
        }
    
        app.login(user)
      }.bind(this))
    }
    
    signup() {
      app.pageManager.navigate('signup')
    }
    
    this.on('mount', function() {
    
    })
  </script>
  <style type="text/css">
    signin {
      display: block;
    }
  </style>
</signin>